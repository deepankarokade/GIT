<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Certificate - ExamPortal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Lexend:wght@400;700&family=Playfair+Display:ital,wght@0,700;1,700&display=swap"
        rel="stylesheet">
    <style>
        .certificate-container {
            width: 800px;
            height: 600px;
            padding: 20px;
            background: white;
            position: relative;
            border: 20px solid #1e3a8a;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        }

        .inner-border {
            border: 2px solid #1e3a8a;
            height: 100%;
            width: 100%;
            padding: 40px;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .certificate-header {
            font-family: 'Playfair Display', serif;
            font-size: 48px;
            color: #1e3a8a;
            text-transform: uppercase;
            margin-bottom: 20px;
        }

        .certificate-title {
            font-family: 'Lexend', sans-serif;
            font-size: 24px;
            color: #374151;
            margin-bottom: 40px;
        }

        .student-name {
            font-family: 'Dancing Script', cursive;
            font-size: 42px;
            color: #111827;
            margin-bottom: 20px;
            border-bottom: 2px solid #e5e7eb;
            padding: 0 40px;
        }

        .course-info {
            font-family: 'Lexend', sans-serif;
            font-size: 18px;
            color: #4b5563;
            text-align: center;
            max-width: 600px;
            line-height: 1.6;
        }

        .certificate-footer {
            position: absolute;
            bottom: 60px;
            width: calc(100% - 80px);
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
        }

        .signature-box {
            text-align: center;
            width: 200px;
        }

        .signature-img {
            max-height: 60px;
            margin-bottom: 5px;
        }

        .signature-line {
            border-top: 1px solid #9ca3af;
            padding-top: 5px;
            font-family: 'Lexend', sans-serif;
            font-size: 14px;
            color: #6b7280;
        }

        @media print {
            body {
                background: none;
            }

            .certificate-container {
                box-shadow: none;
                border-width: 15pt;
            }

            .no-print {
                display: none;
            }
        }
    </style>
</head>

<body class="bg-gray-100 flex items-center justify-center min-h-screen p-10">
    <div class="certificate-container" id="certificate">
        <div class="inner-border">
            <div class="certificate-header">Certificate</div>
            <div class="certificate-title">of Achievement</div>

            <div class="text-gray-500 font-medium mb-4">This is to certify that</div>
            <div class="student-name" th:text="${certificate.student.fullName}">John Doe</div>

            <div class="course-info mt-6">
                has successfully completed the requirements for the course
                <div class="font-bold text-[#1e3a8a] text-xl mt-2" th:text="${certificate.courseName}">Advanced Web
                    Development</div>
                <div class="mt-2">on this day, <span class="font-semibold"
                        th:text="${#temporals.format(certificate.issueDate, 'dd MMMM yyyy')}">10 February 2026</span>
                </div>
            </div>

            <div class="certificate-footer">
                <div class="signature-box">
                    <div class="font-bold text-gray-800" th:text="${certificate.grade}">A+</div>
                    <div class="signature-line">Grade Obtained</div>
                </div>

                <div class="signature-box">
                    <img th:if="${certificate.professorSignature != null}"
                        th:src="'data:image/png;base64,' + ${T(java.util.Base64).getEncoder().encodeToString(certificate.professorSignature)}"
                        class="signature-img mx-auto" alt="Signature">
                    <div class="signature-line" th:text="'Prof. ' + ${certificate.professorName}">Professor Name</div>
                </div>
            </div>
        </div>
    </div>

    <div class="fixed bottom-10 right-10 flex gap-4 no-print">
        <button onclick="window.print()"
            class="px-6 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 font-bold transition">Print /
            Save as PDF</button>
        <button onclick="window.close()"
            class="px-6 py-2 bg-gray-600 text-white rounded-lg shadow hover:bg-gray-700 font-bold transition">Close</button>
    </div>
</body>

</html>